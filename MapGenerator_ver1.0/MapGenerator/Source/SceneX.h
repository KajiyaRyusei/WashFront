//=============================================================================
//
// Xファイルモデルクラス [SceneX.h]
// Author : KEITA OHUCHI
//
//=============================================================================
#ifndef _SCENE_X_H_
#define _SCENE_X_H_

#include "Main.h"
#include "Scene.h"
#include "Model.h"


//-----------------------------------------------------------------------------
// 前方宣言
//-----------------------------------------------------------------------------
class Model;


//-----------------------------------------------------------------------------
// クラス定義
//-----------------------------------------------------------------------------
class SceneX : public Scene {
public:
	//=========================================================================
	// コンストラクタとデストラクタ
	//=========================================================================
	SceneX(int priority = 0);
	virtual ~SceneX();

	//=========================================================================
	// 初期化処理
	//=========================================================================
	virtual HRESULT Init();
	virtual HRESULT Init(char *modelFileName);
	virtual HRESULT Init(char *modelFileName, char *textureFileName);
	//=========================================================================
	// 更新処理
	//=========================================================================
	virtual void Update();
	//=========================================================================
	// 描画処理
	//=========================================================================
	virtual void Draw();
	
	//=========================================================================
	// 生成処理
	//=========================================================================
	static SceneX *Create();


	//=========================================================================
	// モデルの設定
	//=========================================================================
	void SetModel(char *xFileName);

	//=========================================================================
	// 回転の取得
	//=========================================================================
	D3DXVECTOR3 GetRotation() { return rotation_; };
	void SetRotation(D3DXVECTOR3 rotation) { rotation_ = rotation; };
	//=========================================================================
	// マトリクスの設定
	//=========================================================================
	void SetWorldMatrix(D3DXMATRIX matrix) { worldMatrix_ = matrix; };



protected:
	Model		*model_;

	D3DXMATRIX	worldMatrix_;  // ワールドマトリックス
	D3DXVECTOR3	scale_;  // 大きさ
	D3DXVECTOR3	rotation_;  // 向き
	LPD3DXBUFFER			materialBuffer_;
	DWORD					materialNum_;
	LPD3DXMESH				mesh_;
};


#endif


// End of file