//=============================================================================
//
// カメラクラス [Camera.h]
// Author : KEITA OHUCHI
//
//=============================================================================
#ifndef _CAMERA_H_
#define _CAMERA_H_

#include <Windows.h>
#include "Main.h"


//-----------------------------------------------------------------------------
// クラス定義
//-----------------------------------------------------------------------------
class Camera {
public:
	//=========================================================================
	// コンストラクタとデストラクタ
	//=========================================================================
	Camera();
	virtual ~Camera();

	//=========================================================================
	// 初期化処理
	//=========================================================================
	virtual HRESULT Init(D3DXVECTOR3 pos, D3DXVECTOR3 focus_pos) = 0;
	virtual HRESULT Init() = 0;

	//=========================================================================
	// 更新処理
	//=========================================================================
	virtual void Update() = 0;
	//=========================================================================
	// カメラ情報セット処理
	//=========================================================================
	void Set();

	//=========================================================================
	// ビューマトリクスの取得
	//=========================================================================
	D3DXMATRIX GetViewMtx() { return viewMatrix_; };
	//=========================================================================
	// プロジェクションマトリクスの取得
	//=========================================================================
	D3DXMATRIX GetProjectionMtx() { return projectionMatrix_; };
	//=========================================================================
	// 回転角の取得
	//=========================================================================
	D3DXVECTOR3 GetRotation() { return rotation_; };
	//=========================================================================
	// 座標の取得
	//=========================================================================
	D3DXVECTOR3 GetPosition() { return position_; };
	//=========================================================================
	// 注視点座標の取得
	//=========================================================================
	D3DXVECTOR3 GetLookPos() { return lookPosition_; };

	//=========================================================================
	// スクリーン座標からワールド座標への変換
	//=========================================================================
	D3DXVECTOR3 CalcScreenToWorld(D3DXVECTOR3 screenPosition, D3DXVECTOR2 windowSize);


protected:
	D3DXVECTOR3		position_;			// 視点の座標
	D3DXVECTOR3		lookPosition_;		// 注視点の座標
	D3DXVECTOR3		upperVector_;		// 上方向ベクトル
	D3DXVECTOR3		rotation_;			// 向き
	D3DXMATRIX		viewMatrix_;		// ビューマトリクス
	D3DXMATRIX		projectionMatrix_;	// プロジェクションマトリクス
	D3DXVECTOR3		destRotation_;		// 目標角度
};


#endif


// End of file